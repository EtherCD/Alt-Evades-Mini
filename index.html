<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alt-Evades (Mini)</title>
    <link rel="stylesheet" type="text/css" href="./css/style.css">
    <script type="text/javascript" src="./js/loader.js"></script>
    <script type="text/javascript" src="./js/yaml.min.js"></script>
    <script type="text/javascript" src="./js/color-parse.js"></script>
</head>
<body>
    <div id="menu">
        <div id="centered">
            <h1>Alt-Evades (Mini)</h1>
            <p>Viewer in beta! Version: 0.8.4</p>
            <input type="file" id="input">
            <button id="play">Play</button>
        </div>
        <div id="settings">
            <p>Settings</p>
            <hr>
            <input type="checkbox" id="encl" name="" value="ec" />
            <label for="ec">Цвет у врагов</label><br>
            <input type="number" name="" id="pspeed" placeholder="Скорость игрока" value="17" min="5" max="50">
        </div>
        <div id="change-log">
            <dt id="changes">Change log</dt>
            <hr>
            <br>
            <dt id="update">Обновление 0.8.4<br> 25-02-2023</dt>
            <hr>
            <li>Фикс оптимизации связаный с цветами (ЛоЛ)</li>
            <li>Теперь цвет похожий на цвет в обыч</li>
            <li>Фикс прозрачности у аур ;3</li>
            <hr>
            <br>
            <dt id="update">Обновление 0.8.3<br> 25-02-2023</dt>
            <hr>
            <li>Лол сколько уже времени прошло с момента 0.8.2 версии )</li>
            <li>ЭнЕрЦиЯ -> properties -> friction: (default: 0.75, glacial: 0.15)</li>
            <li>Норм скорость врагов ;3</li>
            <li>Как дима говорил 'dimaDragon: уже лудше механика без цвета чем на оборот', но я его не послушал)))</li>
            <hr>
            <br>
            <dt id="update">Обновление 0.8.2<br> 25-01-2023</dt>
            <hr>
            <li id="in">Если кто-то не знал но можно использовать tn с высотой и шириной зоны. Если указать x:10t, w:10tn тогда она будет маштабируемой</li>
            <li>Добавлена обводка у врага</li>
            <li>Добавлено меню с инфой по карте (типы зон, размер карты, кол в рагов, и тд)</li>
            <hr>
            <br>
            <dt id="update">Обновление 0.8.1<br> 25-01-2023</dt>
            <hr>
            <li>Маленький фикс на мышку (чтобы нормально работала когда скорость выше 17, или ниже)</li>
            <li>Фикс на работу мышки в зоне "inversivity"</li>
            <li id="in">Новые параметры у зон: "magnetism" (стандартная 2), "storm" (стандартная 1): "efSpeed" - скорость ефекта (есть в Alt-Evades)</li>
            <hr>
            <br>
            <dt id="update">Обновление 0.8<br> 25-01-2023</dt>
            <hr>
            <li>Добавлены зоны (slowdown, inversivity, magnetism, strom)</li>
            <li>Отныне работают x,y,angle у врагов!</li>
            <hr>
            <br>
            <dt id="update">Обновление 0.7.9<br> 24-01-2023</dt>
            <hr>
            <li>Изменена стандартная карта на Missing Map</li>
            <li>Был пофикшен маленький недочет (карта иногда не грузилась)</li>
            <li>Переформатирована вся верстка</li>
            <hr>
            <br>
            <dt id="update">Обновление 0.7.8<br> 22-01-2023</dt>
            <hr>
            <li>Еще одно сокращение кода (было 512 - стало 451 строк)</li>
            <li>Зато без багов ;)</li>
            <li>Новый хот кей: V - отключение столкновений</li>
            <li>Новая тест способность: Inertia (кнопка Z): постепенно ускоряет игрока, но после 30 скорости сбрасывает
                ёе</li>
            <hr>
            <br>
            <dt id="update">Обновление 0.7.7<br> 22-01-2023</dt>
            <hr>
            <li>Повышина скорость игрока было 17/4 - стало 17/2</li>
            <li>Отныне работает телепорт, но может остались баги...</li>
            <hr>
            <br>
            <dt id="update">Обновление 0.7.6<br> 22-01-2023</dt>
            <hr>
            <li>Уменьшин код (было 610, стало 511 сток)</li>
            <li>Пофикшен баг вызванный уменьшением кода ;/</li>
            <li>Больше цвет тайлов не налаживатся ;0</li>
            <hr>
            <br>
            <dt id="update">Обновление 0.7.5 <br> 22-01-2023</dt>
            <hr>
            <li>Добавленно управление на мышку</li>
            <li>Доделан телепорт (как в обыч) *Но не без проблем</li>
            <li>Новые хот кеи: E (перемещает на 1 арею назад), R (перемещает на 1 арею в-перед)</li>
            <li>Исправлен баг с неправельным названием trasnform - translate </li>
            <li>Есть еще некоторые баги с тепами, но</li>
            <li>Работаю дальше! ;)</li>
            <hr>
        </div>
        <!--<div id="map-message">
            <dt>Map Errors</dt>
            <hr>
            <p id="error-message">  </p>
        </div>-->
        <div id="author">
            <p>Powered by @EtherCD</p>
        </div>
    </div>
    <div id="game" style="display: none;">
        <canvas id="canvas" width="1280" height="720"></canvas>
    </div>
    <script>
        function resize() {
            let scale = window.innerWidth / canvas.width
            if (window.innerHeight / canvas.height < window.innerWidth / canvas.width) {
                scale = window.innerHeight / canvas.height
            }
            canvas.style.transform = "scale(" + scale + ")"
            canvas.style.left = 1 / 2 * (window.innerWidth - canvas.width) + "px"
            canvas.style.top = 1 / 2 * (window.innerHeight - canvas.height) + "px"
        }
        window.onload = () => resize()
        window.onresize = () => resize()
        document.getElementById("input").addEventListener('change', () => {
            const selectedFile = document.getElementById('input').files[0]
            if (selectedFile != undefined) {
                loadFileMap(selectedFile)
            }
        })
        document.getElementById("play").onclick = () => {
            let mainScript = document.createElement("script")
            mainScript.src = "./js/main.js"
            document.body.append(mainScript)
            document.getElementById("menu").style.display = "none"
            document.getElementById("game").style.display = ""
            const selectedFile = document.getElementById('input').files[0]
            if (selectedFile != undefined) {
                loadFileMap(selectedFile)
            }
        }
    </script>
</body>

</html>